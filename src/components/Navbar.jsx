import React, { useState } from "react";
import { Link } from "react-router-dom";
import Logo from "../assets/Logo.png";
import OnHoverButton from "./OnHoverButton";

function Navbar() {
  const [isMobileNavOpen, setIsMobileNavOpen] = useState(false);
  const [hasToggled, setHasToggled] = useState(false);

  const toggleMobileNav = () => {
    setIsMobileNavOpen(!isMobileNavOpen);
    setHasToggled(true); // Mark that the user has toggled the menu
  };

  return (
    <div className="Navbar">
      <div className="navbar-container">
        <Link to="/">
          <div className="navbar-logo">
            <img src={Logo}></img>
          </div>
        </Link>
        <div className="navbar-buttons-container">
          <div className="navbar-buttons-group">
            <Link to="/products" className="navbarMainLinkText">
              Products
            </Link>
            <Link to="/components" className="navbarMainLinkText">
              Components
            </Link>
            <Link to="/aboutus" className="navbarMainLinkText">
              Our world
            </Link>
          </div>
          <OnHoverButton text="Contact us" toLink="/contact" />
        </div>
        <div className="mobileNavbarButton" onClick={toggleMobileNav}>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="21"
            height="20"
            viewBox="0 0 21 20"
            fill="none"
          >
            <path
              d="M16.7586 15C16.971 15.0002 17.1753 15.0816 17.3297 15.2274C17.4842 15.3732 17.5771 15.5725 17.5896 15.7845C17.602 15.9965 17.533 16.2053 17.3967 16.3682C17.2604 16.5311 17.067 16.6357 16.8561 16.6608L16.7586 16.6667H3.42525C3.21285 16.6664 3.00856 16.5851 2.85411 16.4393C2.69967 16.2935 2.60672 16.0942 2.59428 15.8822C2.58183 15.6701 2.65081 15.4613 2.78714 15.2985C2.92346 15.1356 3.11684 15.0309 3.32775 15.0058L3.42525 15H16.7586ZM16.7586 9.16666C16.9796 9.16666 17.1916 9.25446 17.3478 9.41074C17.5041 9.56702 17.5919 9.77898 17.5919 9.99999C17.5919 10.221 17.5041 10.433 17.3478 10.5893C17.1916 10.7455 16.9796 10.8333 16.7586 10.8333H3.42525C3.20424 10.8333 2.99228 10.7455 2.836 10.5893C2.67972 10.433 2.59192 10.221 2.59192 9.99999C2.59192 9.77898 2.67972 9.56702 2.836 9.41074C2.99228 9.25446 3.20424 9.16666 3.42525 9.16666H16.7586ZM16.7586 3.33333C16.9796 3.33333 17.1916 3.42113 17.3478 3.57741C17.5041 3.73369 17.5919 3.94565 17.5919 4.16666C17.5919 4.38768 17.5041 4.59964 17.3478 4.75592C17.1916 4.9122 16.9796 4.99999 16.7586 4.99999H3.42525C3.20424 4.99999 2.99228 4.9122 2.836 4.75592C2.67972 4.59964 2.59192 4.38768 2.59192 4.16666C2.59192 3.94565 2.67972 3.73369 2.836 3.57741C2.99228 3.42113 3.20424 3.33333 3.42525 3.33333H16.7586Z"
              fill="white"
            />
          </svg>
        </div>
        <div
          className={`mobileNavbar ${
            isMobileNavOpen
              ? "activeMobileNavbar"
              : hasToggled
              ? "nonactiveMobileNavbar"
              : ""
          }`}
        >
          <div className="mobileNavbarHeading">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              viewBox="0 0 16 16"
              fill="none"
              onClick={toggleMobileNav}
            >
              <path
                d="M2.99994 13L7.99994 8L12.9999 13M12.9999 3L7.99899 8L2.99994 3"
                stroke="white"
                strokeWidth="1.5"
                strokeLinecap="round"
                strokeLinejoin="round"
              />
            </svg>
          </div>
          <div className="mobileNavbarContainer">
            <div className="mobileNavbarTab">
              <Link onClick={toggleMobileNav} to="/products">
                Products
              </Link>
              <Link onClick={toggleMobileNav} to="/components">
                Components
              </Link>
              <Link onClick={toggleMobileNav} to="/aboutus">
                Our World
              </Link>
            </div>
            <div className="mobileNavbarContact">
              <div style={{ width: "100%" }} onClick={toggleMobileNav}>
                <OnHoverButton text="Contact us" toLink="/contact" />
              </div>

              <div className="mobileNavbarFooter">
                <a href="/" onClick={toggleMobileNav}>
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="19"
                    height="18"
                    viewBox="0 0 19 18"
                    fill="none"
                  >
                    <path
                      d="M9.5 0C7.055 0 6.74975 0.01125 5.78975 0.054C4.83125 0.099 4.17875 0.24975 3.605 0.4725C3.01325 0.702 2.51075 1.01025 2.0105 1.5105C1.51025 2.01075 1.20125 2.5125 0.9725 3.105C0.74975 3.67875 0.59825 4.33125 0.554 5.28975C0.509 6.24975 0.5 6.555 0.5 9C0.5 11.445 0.51125 11.7503 0.554 12.7103C0.599 13.668 0.74975 14.3213 0.9725 14.895C1.202 15.486 1.51025 15.9893 2.0105 16.4895C2.51075 16.989 3.0125 17.2987 3.605 17.5275C4.1795 17.7495 4.832 17.9018 5.78975 17.946C6.74975 17.991 7.055 18 9.5 18C11.945 18 12.2503 17.9888 13.2103 17.946C14.168 17.901 14.8213 17.7495 15.395 17.5275C15.986 17.298 16.4893 16.989 16.9895 16.4895C17.489 15.9893 17.7987 15.4883 18.0275 14.895C18.2495 14.3213 18.4018 13.668 18.446 12.7103C18.491 11.7503 18.5 11.445 18.5 9C18.5 6.555 18.4888 6.24975 18.446 5.28975C18.401 4.332 18.2495 3.678 18.0275 3.105C17.798 2.51325 17.489 2.01075 16.9895 1.5105C16.4893 1.01025 15.9883 0.70125 15.395 0.4725C14.8213 0.24975 14.168 0.09825 13.2103 0.054C12.2503 0.009 11.945 0 9.5 0ZM9.5 1.62C11.9023 1.62 12.1888 1.632 13.1375 1.67325C14.015 1.7145 14.4913 1.86 14.8077 1.9845C15.2292 2.14725 15.5278 2.34225 15.8442 2.6565C16.1585 2.9715 16.3535 3.27075 16.5163 3.69225C16.6392 4.00875 16.7862 4.485 16.826 5.3625C16.8687 6.312 16.8785 6.597 16.8785 9C16.8785 11.403 16.8673 11.6888 16.823 12.6375C16.7773 13.515 16.631 13.9913 16.5072 14.3077C16.3393 14.7292 16.148 15.0278 15.833 15.3442C15.5188 15.6585 15.215 15.8535 14.798 16.0163C14.483 16.1392 13.9993 16.2862 13.1217 16.326C12.1663 16.3687 11.885 16.3785 9.4775 16.3785C7.06925 16.3785 6.788 16.3673 5.83325 16.323C4.955 16.2773 4.47125 16.131 4.15625 16.0072C3.7295 15.8393 3.43625 15.648 3.122 15.333C2.80625 15.0188 2.6045 14.715 2.447 14.298C2.32325 13.983 2.17775 13.4993 2.132 12.6217C2.09825 11.6768 2.08625 11.385 2.08625 8.98875C2.08625 6.59175 2.09825 6.29925 2.132 5.343C2.17775 4.4655 2.32325 3.9825 2.447 3.6675C2.6045 3.24 2.80625 2.9475 3.122 2.63175C3.43625 2.3175 3.7295 2.115 4.15625 1.95825C4.47125 1.83375 4.9445 1.6875 5.822 1.6425C6.77825 1.60875 7.0595 1.5975 9.46625 1.5975L9.5 1.62ZM9.5 4.3785C6.94625 4.3785 4.8785 6.4485 4.8785 9C4.8785 11.5538 6.9485 13.6215 9.5 13.6215C12.0538 13.6215 14.1215 11.5515 14.1215 9C14.1215 6.44625 12.0515 4.3785 9.5 4.3785ZM9.5 12C7.8425 12 6.5 10.6575 6.5 9C6.5 7.3425 7.8425 6 9.5 6C11.1575 6 12.5 7.3425 12.5 9C12.5 10.6575 11.1575 12 9.5 12ZM15.3845 4.19625C15.3845 4.7925 14.9 5.27625 14.3045 5.27625C13.7083 5.27625 13.2245 4.79175 13.2245 4.19625C13.2245 3.60075 13.709 3.117 14.3045 3.117C14.8993 3.11625 15.3845 3.60075 15.3845 4.19625Z"
                      fill="#B9B9B9"
                    />
                  </svg>
                </a>
                <a href="/" onClick={toggleMobileNav}>
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="19"
                    height="18"
                    viewBox="0 0 19 18"
                    fill="none"
                  >
                    <path
                      d="M15.8353 15.339H13.1698V11.1623C13.1698 10.1663 13.1495 8.8845 11.7808 8.8845C10.391 8.8845 10.1788 9.96825 10.1788 11.0887V15.339H7.51325V6.75H10.0738V7.92075H10.1082C10.466 7.24575 11.336 6.53325 12.6357 6.53325C15.3365 6.53325 15.836 8.31075 15.836 10.6245L15.8353 15.339ZM4.50275 5.57475C3.64475 5.57475 2.9555 4.88025 2.9555 4.026C2.9555 3.1725 3.6455 2.47875 4.50275 2.47875C5.35775 2.47875 6.05075 3.1725 6.05075 4.026C6.05075 4.88025 5.357 5.57475 4.50275 5.57475ZM5.83925 15.339H3.16625V6.75H5.83925V15.339ZM17.1688 0H1.82825C1.094 0 0.5 0.5805 0.5 1.29675V16.7033C0.5 17.4202 1.094 18 1.82825 18H17.1665C17.9 18 18.5 17.4202 18.5 16.7033V1.29675C18.5 0.5805 17.9 0 17.1665 0H17.1688Z"
                      fill="#B9B9B9"
                    />
                  </svg>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
}

export default Navbar;
